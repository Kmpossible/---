<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Aljan ğŸ’–</title>

<style>
body{
  margin:0;
  height:100vh;
  overflow:hidden;
  font-family: Arial, sans-serif;
  display:flex;
  justify-content:center;
  align-items:center;
  text-align:center;
  background-image: url("https://media0.giphy.com/media/v1.Y2lkPTc5MGI3NjExNzczZDdlczNlajk1NjE1ZGNiNnB5M3N4aWwycjZlODgzeHh2MTFrbiZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/jVc9j9QXBUKkXi0nVn/giphy.gif");
  background-size: cover;
  background-position: center;
}

.overlay{
  position:fixed;
  inset:0;
  background: rgba(255,182,193,0.65);
  z-index:0;
}

.card{
  position:relative;
  z-index:2;
  width:min(420px, 90vw);
  padding:22px 16px;
  border-radius:20px;
  background: rgba(255,255,255,0.9);
  box-shadow: 0 12px 40px rgba(0,0,0,0.2);
}

h1{ font-size:26px; margin:10px 0; }
p{ opacity:.85; }

button{
  border:none;
  border-radius:14px;
  padding:12px 22px;
  font-size:18px;
  cursor:pointer;
}

#yesBtn{
  background:#ff4d88;
  color:#fff;
  position:relative;
}

.tiny{ font-size:12px; opacity:.8; margin-top:10px; }

/* Floating hearts */
.heart{
  position:fixed;
  bottom:-60px;
  font-size:44px;
  pointer-events:none;
  animation: floatUp linear forwards;
}
@keyframes floatUp{
  to{ transform: translateY(-130vh) scale(1.5); opacity:0; }
}

/* Confirm box */
.confirmBox{
  margin-top:14px;
  padding:12px;
  border-radius:16px;
  background: rgba(255,230,240,.8);
}

/* Final pop */
.popIn{
  animation: pop .6s ease-out;
}
@keyframes pop{
  from{ transform:scale(.7); opacity:0; }
  to{ transform:scale(1); opacity:1; }
}

/* Heart burst */
.burst{
  position:fixed;
  font-size:26px;
  pointer-events:none;
  animation: burst 900ms forwards;
}
@keyframes burst{
  to{ transform: translate(var(--dx),var(--dy)) scale(1.4); opacity:0; }
}
</style>
</head>

<body>
<div class="overlay"></div>

<div class="card" id="card">
  <h1>Aljan, can you be my boyfriend? ğŸ’–</h1>
  <button id="yesBtn">YES</button>
  <div class="tiny">Tip: The button is shy ğŸ˜ˆ</div>
</div>

<!-- ğŸµ Local audio file -->
<audio id="bgm">
  <source src="music.mp3" type="audio/mpeg">
</audio>

<script>
/* Floating hearts */
const hearts=["ğŸ’–","ğŸ’—","ğŸ’","ğŸ’•","ğŸ’˜","â¤ï¸"];
setInterval(()=>{
  const h=document.createElement("div");
  h.className="heart";
  h.textContent=hearts[Math.floor(Math.random()*hearts.length)];
  h.style.left=Math.random()*100+"vw";
  h.style.animationDuration=(3+Math.random()*3)+"s";
  document.body.appendChild(h);
  setTimeout(()=>h.remove(),6000);
},230);

/* Music control */
const bgm=document.getElementById("bgm");
let musicPlayed=false;

function playMusic20s(){
  if(musicPlayed) return;
  musicPlayed=true;
  bgm.currentTime=0;
  bgm.play();
  setTimeout(()=>{
    bgm.pause();
    bgm.currentTime=0;
  },20000);
}

/* Heart burst */
function heartBurst(x,y){
  for(let i=0;i<18;i++){
    const p=document.createElement("div");
    p.className="burst";
    p.textContent=hearts[Math.floor(Math.random()*hearts.length)];
    p.style.left=x+"px";
    p.style.top=y+"px";
    p.style.setProperty("--dx",(Math.random()*240-120)+"px");
    p.style.setProperty("--dy",(Math.random()*240-120)+"px");
    document.body.appendChild(p);
    setTimeout(()=>p.remove(),900);
  }
}

/* Button logic */
const yesBtn=document.getElementById("yesBtn");
const card=document.getElementById("card");
let dodges=0;
let unlocked=false;

function dodge(){
  if(unlocked) return;
  dodges++;
  yesBtn.style.transform=`translate(${Math.random()*240-120}px,${Math.random()*140-70}px)`;
  if(dodges>=4) showSure();
}

yesBtn.addEventListener("mouseover",dodge);
yesBtn.addEventListener("touchstart",e=>{e.preventDefault();dodge();});

yesBtn.addEventListener("click",e=>{
  if(!unlocked) return;
  heartBurst(e.clientX||innerWidth/2,e.clientY||innerHeight/2);
  card.innerHTML=`
    <h1 class="popIn">I love you, Mister ko ğŸ’–ğŸ¥°</h1>
    <p class="popIn">Youâ€™re now officially my boyfriend ğŸ˜ˆğŸ’˜</p>
    <div class="tiny popIn">Screenshot this ğŸ˜Œ</div>
  `;
});

/* Are you sure box */
function showSure(){
  if(document.getElementById("sureBox")) return;
  const box=document.createElement("div");
  box.className="confirmBox";
  box.id="sureBox";
  box.innerHTML=`
    <h1 style="font-size:22px;">Are you sure? ğŸ˜</h1>
    <label>
      <input type="checkbox" id="sureCheck">
      Yes, Iâ€™m sure ğŸ˜Œ
    </label>
    <p class="tiny">This unlocks YES ğŸ˜ˆ</p>
  `;
  card.appendChild(box);

  document.getElementById("sureCheck").addEventListener("change",e=>{
    if(e.target.checked){
      unlocked=true;
      yesBtn.style.transform="translate(0,0)";
      yesBtn.textContent="YES âœ…";
      playMusic20s(); // ğŸ¶ MUSIC STARTS HERE ONLY
    }
  });
}
</script>
</body>
</html>
