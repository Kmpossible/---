<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Aljan ğŸ’–</title>

<style>
body{
  margin:0;
  height:100vh;
  overflow:hidden;
  font-family: Arial, sans-serif;
  display:flex;
  justify-content:center;
  align-items:center;
  text-align:center;

  /* ğŸ’– BACKGROUND GIF (RESTORED) */
  background-image: url("https://media0.giphy.com/media/v1.Y2lkPTc5MGI3NjExNzczZDdlczNlajk1NjE1ZGNiNnB5M3N4aWwycjZlODgzeHh2MTFrbiZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/jVc9j9QXBUKkXi0nVn/giphy.gif");
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
}

.overlay{
  position:fixed;
  inset:0;
  background: rgba(255,182,193,0.65);
  z-index:0;
}

.card{
  position:relative;
  z-index:2;
  width:min(440px,92vw);
  padding:22px 16px;
  border-radius:20px;
  background: rgba(255,255,255,0.9);
  box-shadow:0 12px 40px rgba(0,0,0,0.2);
}

h1{font-size:26px;margin:10px 0; min-height:70px;}
p{margin:8px 0 0; opacity:.9;}

button{
  border:none;
  border-radius:14px;
  padding:12px 22px;
  font-size:18px;
  cursor:pointer;
  user-select:none;
}

#yesBtn{
  background:#ff4d88;
  color:#fff;
  position:relative;
  display:none;
}

.tiny{font-size:12px;opacity:.8;margin-top:10px;}

.heart{
  position:fixed;
  bottom:-60px;
  font-size:34px;
  pointer-events:none;
  animation:floatUp linear forwards;
  z-index:1;
}
@keyframes floatUp{
  to{transform:translateY(-120vh);opacity:0;}
}

.confirmBox{
  margin-top:14px;
  padding:12px;
  border-radius:16px;
  background: rgba(255,230,240,.85);
}

.burst{
  position:fixed;
  font-size:24px;
  pointer-events:none;
  animation:burst 650ms forwards;
  z-index:3;
}
@keyframes burst{
  to{transform:translate(var(--dx),var(--dy)) scale(1.3);opacity:0;}
}

.endPhoto{
  margin-top:14px;
  width:240px;
  max-width:85vw;
  border-radius:16px;
  box-shadow:0 10px 24px rgba(0,0,0,.18);
}
</style>
</head>

<body>
<div class="overlay"></div>

<div class="card" id="card">
  <h1 id="typingText"></h1>
  <button id="yesBtn">YES</button>
  <div class="tiny">The button is shy ğŸ˜ˆ</div>
</div>

<!-- ğŸµ MUSIC ONLY -->
<audio id="bgm" preload="auto">
  <source src="music.mp3" type="audio/mpeg">
</audio>

<script>
/* âœ¨ Typing intro */
const text = "Aljan, can you be my boyfriend? ğŸ’–";
const typingEl = document.getElementById("typingText");
const yesBtn = document.getElementById("yesBtn");
let i = 0;

function typeText(){
  if(i < text.length){
    typingEl.textContent += text.charAt(i);
    i++;
    setTimeout(typeText, 70);
  } else {
    yesBtn.style.display = "inline-block";
  }
}
typeText();

/* ğŸ’• Floating hearts */
const hearts=["ğŸ’–","ğŸ’—","ğŸ’•","ğŸ’˜","â¤ï¸"];
let heartsInterval = setInterval(()=>{
  const h=document.createElement("div");
  h.className="heart";
  h.textContent=hearts[Math.floor(Math.random()*hearts.length)];
  h.style.left=Math.random()*100+"vw";
  h.style.animationDuration=(3+Math.random()*3)+"s";
  document.body.appendChild(h);
  setTimeout(()=>h.remove(),5500);
},400);

/* ğŸ¶ Music */
const bgm=document.getElementById("bgm");
let musicStarted=false;
function startMusic20s(){
  if(musicStarted) return;
  musicStarted=true;

  bgm.currentTime=0;
  bgm.play().catch(()=>{});

  setTimeout(()=>{
    bgm.pause();
    bgm.currentTime=0;
  },20000);
}

/* ğŸ’¥ Heart burst */
function heartBurst(x,y){
  for(let i=0;i<10;i++){
    const p=document.createElement("div");
    p.className="burst";
    p.textContent=hearts[Math.floor(Math.random()*hearts.length)];
    p.style.left=x+"px";
    p.style.top=y+"px";
    p.style.setProperty("--dx",(Math.random()*160-80)+"px");
    p.style.setProperty("--dy",(Math.random()*160-80)+"px");
    document.body.appendChild(p);
    setTimeout(()=>p.remove(),650);
  }
}

/* ğŸ˜ˆ Playful YES */
const card=document.getElementById("card");
let dodges=0;
let unlocked=false;

function dodge(){
  if(unlocked) return;
  dodges++;
  yesBtn.style.transform=`translate(${Math.random()*200-100}px,${Math.random()*120-60}px)`;
  if(dodges>=3) showSure();
}

yesBtn.addEventListener("mouseover", dodge);
yesBtn.addEventListener("touchstart", dodge);

/* ğŸ’– FINAL YES */
yesBtn.addEventListener("click", e=>{
  if(!unlocked) return;

  clearInterval(heartsInterval);
  document.querySelectorAll(".heart").forEach(h=>h.remove());

  startMusic20s();
  heartBurst(e.clientX||innerWidth/2,e.clientY||innerHeight/2);

  card.innerHTML=`
    <h1>I love you, Mister ko ğŸ’–ğŸ¥°</h1>
    <img class="endPhoto" src="love.jpg" alt="love photo">
    <p>Now youâ€™re officially my boyfriend ğŸ˜ˆğŸ’˜</p>
  `;
});

/* Are you sure? */
function showSure(){
  if(document.getElementById("sureBox")) return;

  const box=document.createElement("div");
  box.className="confirmBox";
  box.id="sureBox";
  box.innerHTML=`
    <h1 style="font-size:22px;">Are you sure? ğŸ˜</h1>
    <label style="display:flex;gap:10px;justify-content:center;align-items:center;">
      <input type="checkbox" id="sureCheck">
      Yes, Iâ€™m sure ğŸ˜Œ
    </label>
  `;
  card.appendChild(box);

  document.getElementById("sureCheck").addEventListener("change",e=>{
    unlocked=e.target.checked;
    yesBtn.textContent=unlocked?"YES âœ…":"YES";
    yesBtn.style.transform="translate(0,0)";
  });
}
</script>

</body>
</html>
