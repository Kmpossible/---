<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Aljan ğŸ’–</title>

  <style>
    body{
      margin:0;
      height:100vh;
      overflow:hidden;
      font-family: Arial, sans-serif;
      display:flex;
      justify-content:center;
      align-items:center;
      text-align:center;

      /* Cute couple animation background (GIF) */
      background-image: url("https://media0.giphy.com/media/v1.Y2lkPTc5MGI3NjExNzczZDdlczNlajk1NjE1ZGNiNnB5M3N4aWwycjZlODgzeHh2MTFrbiZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/jVc9j9QXBUKkXi0nVn/giphy.gif");
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
    }

    /* baby pink overlay for cute vibe + readability */
    .overlay{
      position:fixed;
      inset:0;
      background: rgba(255, 182, 193, 0.65); /* baby pink */
      z-index:0;
    }

    .card{
      position:relative;
      z-index:2;
      width:min(420px, 90vw);
      padding:22px 16px;
      border-radius:20px;
      background: rgba(255,255,255,0.85);
      box-shadow: 0 12px 40px rgba(0,0,0,0.15);
      backdrop-filter: blur(4px);
    }

    h1{ margin: 10px 0; font-size: 26px; }
    p{ margin: 10px 0 0; opacity:0.85; }

    .btnRow{
      margin-top:16px;
      display:flex;
      justify-content:center;
      gap:12px;
      flex-wrap:wrap;
    }

    button{
      border:none;
      border-radius:14px;
      padding:12px 22px;
      font-size:18px;
      cursor:pointer;
      user-select:none;
    }

    #yesBtn{
      background:#ff4d88;
      color:#fff;
      position:relative;
    }

    .tiny{
      font-size:12px;
      opacity:0.8;
      margin-top:10px;
    }

    /* BIG floating hearts */
    .heart{
      position:fixed;
      bottom:-60px;
      font-size: 44px;
      pointer-events:none;
      opacity: 0.95;
      animation: floatUp linear forwards;
      z-index:1;
    }

    @keyframes floatUp{
      from { transform: translateY(0) translateX(0) scale(1); opacity: 0.95; }
      to   { transform: translateY(-125vh) translateX(var(--drift)) scale(var(--scale)); opacity: 0; }
    }

    .confirmBox{
      margin-top: 14px;
      padding: 12px 12px;
      border-radius: 16px;
      background: rgba(255, 230, 240, 0.75);
    }

    label{
      display:flex;
      align-items:center;
      justify-content:center;
      gap:10px;
      font-size: 15px;
    }

    input[type="checkbox"]{
      width:18px;
      height:18px;
    }

    /* ğŸ¶ Music button */
    #musicBtn, #musicBtn2{
      margin-top: 14px;
      background: #111;
      color: #fff;
      font-size: 14px;
      padding: 10px 16px;
      border-radius: 12px;
    }

    /* âœ… Final pop animation */
    @keyframes popIn {
      0% { transform: scale(0.7); opacity: 0; }
      70% { transform: scale(1.06); opacity: 1; }
      100% { transform: scale(1); opacity: 1; }
    }
    .popIn {
      animation: popIn 0.6s ease-out;
    }

    /* ğŸ’¥ Heart burst particles */
    .burst {
      position: fixed;
      left: var(--x);
      top: var(--y);
      font-size: 26px;
      pointer-events: none;
      animation: burstFly 900ms ease-out forwards;
      z-index: 3;
    }
    @keyframes burstFly {
      from { transform: translate(0,0) scale(1); opacity: 1; }
      to   { transform: translate(var(--dx), var(--dy)) scale(1.4); opacity: 0; }
    }
  </style>
</head>

<body>
  <div class="overlay"></div>

  <div class="card" id="card">
    <h1 id="q1">Aljan, can you be my boyfriend? ğŸ’–</h1>

    <div class="btnRow">
      <button id="yesBtn">YES</button>
    </div>

    <button id="musicBtn">ğŸ¶ Tap to play music</button>
    <div class="tiny">Tip: The button is a bit shy ğŸ˜ˆ</div>
  </div>

  <!-- ğŸµ Put your audio file in the SAME repo and name it music.mp3 -->
  <audio id="bgm" loop preload="auto">
    <source src="music.mp3" type="audio/mpeg">
  </audio>

  <script>
    // ğŸ’– Floating hearts
    const hearts = ["ğŸ’–","ğŸ’—","ğŸ’","ğŸ’•","ğŸ’˜","â¤ï¸"];
    function spawnHeart(){
      const h = document.createElement("div");
      h.className = "heart";
      h.textContent = hearts[Math.floor(Math.random()*hearts.length)];
      h.style.left = (Math.random()*100) + "vw";
      h.style.setProperty("--drift", (Math.random()*120 - 60) + "px");
      h.style.setProperty("--scale", (0.9 + Math.random()*1.6).toFixed(2));
      const dur = 3 + Math.random()*3;
      h.style.animationDuration = dur + "s";
      document.body.appendChild(h);
      setTimeout(() => h.remove(), dur*1000);
    }
    setInterval(spawnHeart, 230);

    // ğŸµ Music (phones require a tap)
    const bgm = document.getElementById("bgm");
    let playing = false;

    function wireMusicButton(btnId){
      const btn = document.getElementById(btnId);
      if(!btn) return;

      btn.addEventListener("click", async () => {
        try{
          if(!playing){
            await bgm.play();
            playing = true;
            btn.textContent = "ğŸ”Š Music is playing";
          }else{
            bgm.pause();
            playing = false;
            btn.textContent = "ğŸ¶ Tap to play music";
          }
        }catch(e){
          btn.textContent = "âš ï¸ Tap again to allow audio";
        }
      });
    }

    wireMusicButton("musicBtn");

    // ğŸ’¥ Heart burst animation
    function heartBurst(x, y){
      const particles = ["ğŸ’–","ğŸ’—","ğŸ’•","ğŸ’˜","ğŸ’","â¤ï¸"];
      for(let i=0; i<18; i++){
        const p = document.createElement("div");
        p.className = "burst";
        p.textContent = particles[Math.floor(Math.random()*particles.length)];
        p.style.setProperty("--x", x + "px");
        p.style.setProperty("--y", y + "px");
        p.style.setProperty("--dx", (Math.random()*240 - 120) + "px");
        p.style.setProperty("--dy", (Math.random()*240 - 120) + "px");
        document.body.appendChild(p);
        setTimeout(() => p.remove(), 950);
      }
    }

    // ğŸ˜ˆ Playful: YES is "unclickable" first (dodges a few times)
    const yesBtn = document.getElementById("yesBtn");
    const card = document.getElementById("card");
    let dodges = 0;
    let unlocked = false;

    function dodge(){
      if(unlocked) return;
      dodges++;

      const x = Math.random()*240 - 120;
      const y = Math.random()*140 - 70;
      yesBtn.style.transform = `translate(${x}px, ${y}px)`;

      if(dodges >= 4) showAreYouSure();
    }

    yesBtn.addEventListener("mouseover", dodge);
    yesBtn.addEventListener("touchstart", (e) => { e.preventDefault(); dodge(); });

    yesBtn.addEventListener("click", (e) => {
      if(!unlocked) return;

      const x = e.clientX || (window.innerWidth / 2);
      const y = e.clientY || (window.innerHeight / 2);
      heartBurst(x, y);

      card.innerHTML = `
        <h1 class="popIn">I love you, Mister ko ğŸ’–ğŸ¥°</h1>
        <p class="popIn">Now youâ€™re officially my Boyfriend ğŸ˜ˆğŸ’˜</p>
        <button id="musicBtn2">ğŸ¶ Tap to play music</button>
        <div class="tiny popIn">Screenshot this ğŸ˜Œ</div>
      `;

      wireMusicButton("musicBtn2");
    });

    function showAreYouSure(){
      if(document.getElementById("sureBox")) return;

      const box = document.createElement("div");
      box.className = "confirmBox";
      box.id = "sureBox";
      box.innerHTML = `
        <h1 style="font-size:22px;margin:6px 0;">Are you sure? ğŸ˜</h1>
        <label>
          <input type="checkbox" id="sureCheck">
          Yes, Iâ€™m sure ğŸ˜Œ
        </label>
        <p class="tiny">Check it to unlock YES ğŸ˜ˆ</p>
      `;
      card.appendChild(box);

      const sureCheck = document.getElementById("sureCheck");
      sureCheck.addEventListener("change", () => {
        if(sureCheck.checked){
          unlocked = true;
          yesBtn.style.transform = "translate(0,0)";
          yesBtn.textContent = "YES âœ…";
        }else{
          unlocked = false;
          yesBtn.textContent = "YES";
        }
      });
    }
  </script>
</body>
</html>
